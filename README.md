# 关于RISC-V你所需要知道的一切

当人们在谈论RISC-V的时候，实际在谈些什么？本书尝试告诉您答案。

本书计划采用众包的方式完成，欢迎RISC-V的爱好者贡献自己的力量，以推动RISC-V在中国的普及，同时共同学习进步。

[![](/assets/import.png)](https://creativecommons.org/licenses/by-nc-sa/3.0/cn/)

本作品采用[知识共享署名-非商业性使用-相同方式共享 3.0 中国大陆许可协议](https://creativecommons.org/licenses/by-nc-sa/3.0/cn/)进行许可。

**待讨论大纲（以下是囿于我的见识列出的大纲草稿，有很多不完善地方，大家多讨论）：**

# 第一章 RISC-V产生的时代背景

大概分两部分介绍：

第一部分介绍指令集的诞生及作用；cisc与risc的产生及当今的互相融合；摩尔定律即将终结；开源软件的丰硕成果（linux）；

第二部分介绍伯克利大学对于risc指令集的前四版的情况；risc-v的产生原因；risc-v的优势；risc-v基金会的情况；6届研讨会的情况介绍；risc-v的软件生态

# 第二章 RISC-V的基本情况

大概有这么几个方面：RISC-V概述；RV64G的基本情况；RV32E的基本情况；特权级指令介绍；自定义扩展指令介绍。

> wsong83:<br>
> 我觉得第一章和第二章应该合并。
> - RISC-V 基金会，优势，产生原因等等都基本属于RISC-V的基本情况。
> - 没太觉得有必要去介绍UCB的前4版。这个基本就是他们进半个世纪的研究。当然，如果把它当历史发展趣闻去介绍，畅销书的做法也是可以的。
> - 关于UCB的历史，可以看看[RISC-V Geneology](https://www2.eecs.berkeley.edu/Pubs/TechRpts/2016/EECS-2016-6.pdf)


# 第三章 RISC-V在产业界与学术界的现状

大概有这么几个方面：概述基于RISC-V指令集的开源处理器、开源SoC、商业处理器、商业SoC，最后进行一个简单地统计分析汇总。（lsl之前整理过这方面的资料）

> 我觉得章内结构分的细了，不一定分的清楚。
> 开源和商业有时并不对立，同样开源不一定免费，商业不一定收费。
> 处理器设计和SoC的区分有时也不明显。

# 第四章 Chisel简介

简单介绍Chisel3.0的原理、优势、相关知识点。（lsl之前整理过Chisel2.0版本的资料）

> 我们估计讲不了原理吧。
> 优势可以稍微举举例子。但是把这一本摊开讲基本就是一本书。
> 这一部分只能是稍微介绍。我甚至觉得这一章应该变成Rocket-chip的一节。其实只有Rocket-chip使用Chisel。其他所有的设计都不用。

# 第五章 Rocket-Chip概述

包括Rocket-Chip概述，包括产生的目的、各个文件夹的作用、Rocket-Chip的作用、结构图、使用方法等；此外，介绍广泛使用的Tilelink的协议内容。

> TileLink 并没有被广泛运用吧，基本就是UCB和SiFive的内部总线协议和实现。可以稍微介绍一下。
> 仍然觉得先讲Rocket-chip再说Rocket-core行不通吧。这两个基本是息息相关啊。

# 第六章 Rocket处理器

大概分三个部分：

第一部分包括性能参数、结构框图、接口图、各个文件的作用，实验环境搭建，仿真步骤，实验步骤（包括下载到开发板的步骤）；

> 使用Rocket-core的开发板并没有统一吧，除非你是专指SiFive的板子。作为lowRISC，我们支持Nexys4-DDR。UCB也曾经支持过多款Zynq的板子。
> 我的主要意见是，讲这些对读者有多少帮助。我觉得我们应该避免把自己知道的东西去堆成一本书，而应该想想些什么东西是对以后有用的，可以作为知识去指导实践的。
> 有些东西讲细了，就变成英文文档的翻译。一旦别人的文档变了，书就没用了。

第二部分介绍RoCC的相关知识，包括机制、使用方法、测试等（lsl之前积累过这方面的资料）；

> 要小心。ROCC接口本身就从没稳定过。

第三部分介绍多核配置、仿真、下载试验的步骤。

> 一样，有点觉得这些不该是一本书的内容。给出链接指向SiFive的正确网页即可。
> 当然，有些逻辑上的东西是有意义的，比如说什么结构是可以配置的，为什么这么配。
> 举个例子子，陪scratch pad和nonblocking L1 D$就是互相矛盾的。

# 第七章 BOOM处理器

包括性能参数、结构框图、接口图、各个文件的作用，仿真步骤，实验步骤（包括下载到开发板的步骤）；

# 第八章 SiFive公司的Freedom系列

大概分为五个部分：

第一部分介绍SiFive公司及其Freedom系列的基本情况（lsl之前积累过这方面的资料）；

第二部分介绍Freedom E310的性能参数、结构框图、接口图、各个文件的作用，仿真步骤，实验环境搭建，实验步骤（包括下载到开发板的步骤）；

第三部分分析Freedom E310的移植到Altera的步骤、调试环境建设（lsl之前积累过这方面的资料）。

第四部分从代码分析调试原理（lsl之前积累过这方面的资料）；

第五部分介绍HiFive的基本情况，实验环境搭建，实验步骤，试验例程分析，ucosII的移植。

# 第九章 LowRISC

包括LowRISC的产生原因、发展历史、相比Rocket的主要改进点，仿真步骤，实验环境搭建，实验步骤（包括下载到开发板的步骤）；

# 第十章 RISCV-mini源代码分析

分析RISCV-mini或者sodo、zscala的源代码，以小见大，而且因为简单便于大家理解（lsl之前积累过sodor源代码的相关的资料）

